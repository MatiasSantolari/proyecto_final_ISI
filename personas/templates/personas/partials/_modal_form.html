<div class="modal position-fixed fade" id="modalPersona" tabindex="-1" aria-labelledby="modalPersonaLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable" style="margin-top: 5rem;">
    <div class="modal-content">
      <div class="modal-header" style="background-color: #3c8dbc;">
        <h5 class="modal-title text-white" id="modalPersonaLabel" data-personas-target="modalLabel">Crear/Editar Persona</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form
          method="post"
          action="{% url 'crear_persona' %}"
          id="formPersona"
          enctype="multipart/form-data"
          data-personas-target="form"
        >
          {% csrf_token %}
          {{ form.non_field_errors }}
          <input type="hidden" name="id_persona" id="id_persona" data-personas-target="personaId" />

            <div class="row g-3">
              <div class="col-md">
                <label for="id_nombre" class="form-label">Nombre</label>
                {{ form.nombre }}
                {% for error in form.nombre.errors %}
                  <div class="text-danger small">{{ error }}</div>
                {% endfor %}
              </div>
              <div class="col-md">
                <label for="id_apellido" class="form-label">Apellido</label>
                {{ form.apellido }}
                {% for error in form.apellido.errors %}
                  <div class="text-danger small">{{ error }}</div>
                {% endfor %}
              </div>
              <div class="col-md">
                <label for="id_dni" class="form-label">DNI</label>
                {{ form.dni }}
                {% for error in form.dni.errors %}
                  <div class="text-danger small">{{ error }}</div>
                {% endfor %}
              </div>
            </div>

            <div class="row g-3 mt-1">
              <div class="col-md-4">
                <label for="id_fecha_nacimiento" class="form-label">Fecha de Nacimiento</label>
                {{ form.fecha_nacimiento }}
                {% for error in form.fecha_nacimiento.errors %}
                  <div class="text-danger small">{{ error }}</div>
                {% endfor %}
              </div>
              <div class="col-md-4">
                <label for="id_genero" class="form-label">Género</label>
              {{ form.genero }}
            </div>
            <div class="col-md-4">
              <label for="id_email" class="form-label">Email</label>
              {{ form.email }}
              {% for error in form.email.errors %}
                  <div class="text-danger small">{{ error }}</div>
                {% endfor %}
              </div>
            </div>

            <div class="row g-3 mt-1">
              <div class="col-md-8">
                <label class="form-label" for="id_prefijo_pais">Teléfono</label>
                <div class="input-group">
                  <span class="input-group-text">Prefijo</span>
                  {{ form.prefijo_pais }}
                  <span class="input-group-text">Número</span>
                  {{ form.telefono }}
                </div>
              </div>
            </div>

            <div class="row g-3 mt-1">
              <div class="col-md-4">
                <label for="id_pais" class="form-label">País</label>
                {{ form.pais }}
              </div>
              <div class="col-md-4">
                <label for="id_provincia" class="form-label">Provincia</label>
                {{ form.provincia }}
              </div>
              <div class="col-md-4">
                <label for="id_ciudad" class="form-label">Ciudad</label>
                {{ form.ciudad }}
              </div>
            </div>

            <div class="row g-3 mt-1">
              <div class="col-md-8">
                <label for="id_calle" class="form-label">Calle</label>
                {{ form.calle }}
              </div>
              <div class="col-md-4">
                <label for="id_numero" class="form-label">Número</label>
                {{ form.numero }}
              </div>
            </div>
          
            <div class="mb-3 mt-3">
              <label for="id_tipo_usuario" class="form-label">Tipo de Usuario</label>
              {{ form.tipo_usuario }}
            </div>

            <div id="campoEstado" class="mb-3" style="display: none;" data-personas-target="campoEstado">
              <label for="id_estado" class="form-label">Estado</label>
              {{ form.estado }}
            </div>

            <div class="row g-3">
              <div class="col-md">
                <div id="campoDepartamento" class="mb-3" style="display: none;" data-personas-target="campoDepartamento">
                  <label for="id_departamento" class="form-label">Departamento</label>
                  {{ form.departamento }}
                  {% if form.departamento.errors %}
                    <div class="text-danger">{{ form.departamento.errors }}</div>
                  {% endif %}
                </div>
              </div>
              <div class="col-md">
                <div id="campoCargo" class="mb-3" style="display: none;" data-personas-target="campoCargo">
                  <label for="id_cargo" class="form-label">Cargo</label>
                  {{ form.cargo }}
                </div>
              </div>
            </div>

          <input type="hidden" name="accion" id="accion_input" value="" data-personas-target="accionInput" />

          <div class="modal-footer bg-light">
            <button
              type="submit"
              class="btn btn-success fw-bold"
              data-personas-target="submitButton"
              data-personas-accion="guardar"
              data-action="click->personas#setAccion"
            >
              <i class="bi bi-save"></i> Guardar
            </button>
            <button
              type="submit"
              class="btn btn-primary fw-bold"
              data-personas-accion="guardar_crear_contrato"
              data-action="click->personas#setAccion"
            >
              <i class="bi bi-file-earmark-text"></i> Guardar y Crear Contrato
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
